{% extends "layout.html" %}

{% block content %}
<div class="container my-container">
  <div class="row align-items-start justify-content-around my-row">
    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 my-col">

        <h4 class="form-heading">Search Clients</h4> <!-- Heading -->
        <form method="POST" action="{{url_for('users.search')}}">
          {{ search_form.hidden_tag() }}
          <fieldset class="form-group">

            <div class="form-group">
              {{ search_form.family_name.label(class="form-control-label") }}
              {{ search_form.family_name(class="form-control form-control-md")}}
            </div>

            <div class="form-group">
              {{ search_form.family_size.label(class="form-control-label")}}
              {{ search_form.family_size(class="form-control form-control-md")}}
            </div>

            <div class="form-group">
              {{ search_form.search_user(class="btn btn-outline-info") }}
            </div>

          </fieldset>
        </form>

    </div>
  </div>
</div>

<table class="table" style="margin-top: 120px;">
  <thead class="thead-light">
    <tr>
      <th>Client ID</th>
      <th>Family Size</th>
      <th>Family Name</th>
      <th>Date Client Created</th>
    </tr>
  </thead>


  <tbody>
    {% if user_search_query %}
    {% for data in user_search_query %}
        <tr>
          <td>{{ data.id }}</td>
          <td>{{ data.family_size }}</td>
          <td>{{ data.family_name }}</td>
          <td>{{ data.date_created.strftime('%m-%d-%Y') }}</td>
        </tr>
    {% endfor %}
    {% else %}
      <tr>
        <td>N/A</td>
      </tr>
    {% endif %}
  </tbody>

</table>

{% endblock content %}
